
{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Custom block for page title   -->
    <title>{% block title %}{% endblock %} | Ingreso Codigo</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <!-- Custom CSS -->
      <link rel="stylesheet" href="{% static 'game_code/css/game_code.css' %}" >
      <script src="{% static 'js/util_dev.js' %}"></script>

  </head>
  <body>
    <!-- Custom block for content of body -->
    {% block content %}
        <form action="/500/multimedia/game/" method="POST">

            <div class="container d-flex justify-content-center align-items-center" style="height: 100vh;">
                {% csrf_token %}
                <div class="row">
                    <div class="col text-center">
                      <input type="text" class="form-control form-control-lg" placeholder="Ingrese el codigo">
                      <button onclick="validarInput()" class="btn btn-primary mt-3">Ingresar</button>
                    </div>
                </div>
            </div>
        </form>
    {% endblock %}

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

    <!-- Custom block for javascript -->
    {% block js_script %}
        <script>
            console.log('{{ csrf_token }}');
            function validarInput() {
                var input = document.querySelector('.form-control');
                if (input.value === '') {
                    alert('El campo de entrada está vacío');
                } else {
                    alert('El campo de entrada está lleno');
                    {#window.location.href = 'ingresoNombre.html';#}
                }
            }

//Obtiene el token del form
            const csrfToken = $('input[name="csrfmiddlewaretoken"]').val();
            //Obtiene la URL de acción del formulario
            let url_ = $('#form_Gen_SesionJuegoForm_id').attr('action');
            let data_ = new FormData();

            data_.append('csrfmiddlewaretoken', csrfToken);
            //Se envia al servidor, para que retorne los valores del item
            sendToServer(url = url_, data = fields, method = 'POST')
                .then(data => {

                }).catch(error => {
                    console.log(error);
                    //TODO : SHOW error
                });
        </script>
    {% endblock %}
</body>
</html>